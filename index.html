<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Scanner de Code QR/Code-barres</title>
    <button id="sign-in-google">Connexion avec Google</button>
    <button id="sign-in-facebook">Connexion avec Facebook</button>

    <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<link rel="stylesheet" href="style.css">
<body>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
        
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAWrPPe2PF-i-zCgarDafqQ5ywS5OQQ5k8",
            authDomain: "nutri-scan-food.firebaseapp.com",
            projectId: "nutri-scan-food",
            storageBucket: "nutri-scan-food.appspot.com",
            messagingSenderId: "451956998080",
            appId: "1:451956998080:web:98a4fb3bf0b2148a5b1225",
            measurementId: "G-PBH8J37N2K"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>
    
    <h1>Scanner un Code QR/Code-barres</h1>
    <div id="reader"></div>
    <div id="result">Résultat du scan : <span id="scanned-text"></span></div>
    <input type="text" id="manual-input" placeholder="Entrez un code manuellement ou scannez"/>
    <button onclick="sendBarcode()">Envoyer</button>
    <div id="format-buttons-container">
        <button id="barcode-btn">Format Code-barres</button>
        <button id="qrcode-btn">Format QR Code</button>
    </div>

    <!-- Section détaillée du produit -->
    <div id="product-details">
        <h2>Détails du Produit</h2>
        <p>Nom du produit : <span id="product-name"></span></p>
        <p>Marques : <span id="brands"></span></p>
        <p>Catégories : <span id="categories"></span></p>
        <p>Étiquettes : <span id="labels"></span></p>
        <p>Quantité : <span id="quantity"></span></p>
        <p>Quantité d'une portion : <span id="serving_size"></span></p>
        <p>Lieux de fabrication : <span id="manufacturing_places"></span></p>
        <p>Pays de vente : <span id="countries"></span></p>
        <p>Allergènes : <span id="allergens"></span></p>
        <p>Score NOVA : <span id="nova-group"></span></p>
        <p>Score nutritionnel : <span id="nutrition-score-fr"></span></p>
    </div>

    <!-- Informations nutritionnelles -->
    <div id="nutrition-info">
        <h2>Informations Nutritionnelles</h2>
        <p>Énergie (kJ pour 100g): <span id="energy-kj"></span></p>
        <p>Énergie (kcal pour 100g): <span id="energy-kcal"></span></p>
        <p>Protéines (g pour 100g): <span id="proteins"></span></p>
        <p>Glucides (g pour 100g): <span id="carbohydrates"></span></p>
        <p>Sucres (g pour 100g): <span id="sugars"></span></p>
        <p>Matières grasses (g pour 100g): <span id="fat"></span></p>
        <p>Graisses saturées (g pour 100g): <span id="saturated-fat"></span></p>
        <p>Fibres (g pour 100g): <span id="fiber"></span></p>
        <p>Sodium (mg pour 100g): <span id="sodium"></span></p>
        <p>Sel (g pour 100g): <span id="salt"></span></p>
        <p>ingredients_text: <span id="ingredients_text"></span></p>
        <p>traces: <span id="traces"></span></p>
        <p>nutrition_score_fr: <span id="nutrition_score_fr"></span></p>
        <p>nutrient_levels: <span id="nutrient_levels"></span></p>
        <p>vitamins: <span id="vitamins"></span></p>
        <p>minerals: <span id="minerals"></span></p>
        <p>eco_score: <span id="eco_score"></span></p>
        <p>additives: <span id="additives"></span></p>
    </div>

    

    <!-- Historique des scans -->
    <div id="scanned-results">
        <h2>Historique des scans</h2>
        <ul id="scanned-list"></ul>
    </div>
    <script src="javascript.js"></script>
</body>
</html>
